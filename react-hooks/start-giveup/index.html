<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>React Hooks 从入门到放弃 | ZhendongWang&#39;s Blog</title>
    <meta name="description" content="Just playing around">
    
    
    <link rel="preload" href="/blog/assets/css/0.styles.fe5bdb75.css" as="style"><link rel="preload" href="/blog/assets/js/app.f0ed8e46.js" as="script"><link rel="preload" href="/blog/assets/js/2.1c2ffc95.js" as="script"><link rel="preload" href="/blog/assets/js/3.6ef700c2.js" as="script"><link rel="prefetch" href="/blog/assets/js/4.1806b65e.js"><link rel="prefetch" href="/blog/assets/js/5.df82f324.js"><link rel="prefetch" href="/blog/assets/js/6.addd5441.js"><link rel="prefetch" href="/blog/assets/js/7.ecde9128.js"><link rel="prefetch" href="/blog/assets/js/8.f0f880d9.js"><link rel="prefetch" href="/blog/assets/js/9.9952fdae.js">
    <link rel="stylesheet" href="/blog/assets/css/0.styles.fe5bdb75.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/blog/" class="home-link router-link-active"><!----> <span class="site-name">ZhendongWang's Blog</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <!----></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><!---->  <ul class="sidebar-links"><li><section class="sidebar-group collapsable depth-0"><a href="/blog/react-hooks/" class="sidebar-heading clickable router-link-active open"><span>React Hooks</span> <span class="arrow down"></span></a> <ul class="sidebar-links sidebar-group-items"><li><a href="/blog/react-hooks/start-giveup/" class="active sidebar-link">Hooks从入门到放弃</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/blog/react-hooks/start-giveup/#react-hooks-基础" class="sidebar-link">React Hooks 基础</a></li><li class="sidebar-sub-header"><a href="/blog/react-hooks/start-giveup/#hooks-的合理使用" class="sidebar-link">Hooks 的合理使用</a></li><li class="sidebar-sub-header"><a href="/blog/react-hooks/start-giveup/#usecallback-地狱" class="sidebar-link">UseCallback 地狱</a></li></ul></li></ul></section></li><li><a href="/blog/leetcode/" class="sidebar-link">LeetCode</a></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="react-hooks-从入门到放弃"><a href="#react-hooks-从入门到放弃" class="header-anchor">#</a> React Hooks 从入门到放弃</h1> <blockquote><p>本文默认读者对 React Hooks 已经有一定的了解。 因此不再赘述 Hooks API 的使用了, 还未了解的同学可以去官网阅读<a href="https://reactjs.org/docs/hooks-reference.html" target="_blank" rel="noopener noreferrer">React Hooks API Reference<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p></blockquote> <h2 id="react-hooks-基础"><a href="#react-hooks-基础" class="header-anchor">#</a> React Hooks 基础</h2> <p>使用 React Hooks 就不得不提到 React 函数组件。</p> <blockquote><p>Conceptually, components are like JavaScript functions. They accept arbitrary inputs (called “props”) and return React elements describing what should appear on the screen.</p></blockquote> <p>从官网上的介绍来看, 组件就像 JavaScript 的函数, 它接收一些入参(props), 并返回 React 元素。</p> <p>在我们最初学习使用 React 框架时, 首先了解的是通过<code>Class</code>书写组件, 这样可以很好地理解并规划<code>类组件</code>的数据与方法, 而且<code>生命周期</code>可以让我们更清晰地了解组件的加载以及更新状态的触发时机。</p> <p>那<code>函数组件</code>呢? <code>函数组件</code>本身解决了从数据到 React 元素的映射, 而<code>Hooks</code>则在此基础上提供了数据存储以及 Side Effect(副作用)的处理。</p> <p>此时此刻, 让我们忘记已经熟知的<code>Class</code>与<code>生命周期</code>, 来重新认识<code>函数组件</code> + <code>Hooks</code>的 React。</p> <h3 id="_0-函数组件"><a href="#_0-函数组件" class="header-anchor">#</a> 0. 函数组件</h3> <p><code>函数组件</code>是用来处理一些简单的 UI 组件, 通过 Props 传入的数据, 抽象封装一些组件。</p> <div class="language-jsx extra-class"><pre class="language-jsx"><code><span class="token keyword">function</span> <span class="token function">Header</span><span class="token punctuation">(</span><span class="token parameter">props</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">const</span> <span class="token punctuation">{</span> title<span class="token punctuation">,</span> description<span class="token punctuation">,</span> avatar <span class="token punctuation">}</span> <span class="token operator">=</span> props<span class="token punctuation">;</span>
    <span class="token keyword">return</span> <span class="token punctuation">(</span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
            </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>img</span> <span class="token attr-name">src</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>avatar<span class="token punctuation">}</span></span> <span class="token punctuation">/&gt;</span></span><span class="token plain-text">
            </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h1</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">{</span>title<span class="token punctuation">}</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h1</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
            </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">{</span>description<span class="token punctuation">}</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
        </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
    <span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><p>限制了函数组件使用的原因一方面在于它没有内部数据, 另一方面就是没有生命周期, 因此无法实现具有一定交互与逻辑的功能。</p> <h3 id="_1-使用-react-hooks-时的数据存储"><a href="#_1-使用-react-hooks-时的数据存储" class="header-anchor">#</a> 1. 使用 React Hooks 时的数据存储</h3> <p>函数组件内定义的变量不是固化的, 执行完成后, 函数内的变量就会被清理掉了(非闭包情况)。所以, 我们需要通过 Hooks 固化组件需要的一些数据。</p> <p><a href="https://codesandbox.io/s/gracious-glitter-p6yyy?autoresize=1&amp;fontsize=14&amp;hidenavigation=1" target="_blank" rel="noopener noreferrer"><img src="https://codesandbox.io/static/img/play-codesandbox.svg" alt="Edit gracious-glitter-p6yyy"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p> <p><img src="/blog/assets/img/demo1.8873018f.gif" alt="Demo"></p> <p>上面是 React Hooks 之 useState 的使用例子, 如下是浅尝辄止的理解:</p> <blockquote><p>通过<code>useState</code>, 我们在某个地方定义了一个对象, 并挂载到某个不会让它消失的地方。<code>useState</code>方法返回的第一个值就是我们要的数据。<code>useState</code>方法返回的第二个值是一个函数, 可以设置这个对象的值, 然后会触发函数重新渲染。</p></blockquote> <p>上面这坨话说的很模糊, <code>某个地方</code>到底是哪个地方, 定义了一个什么样的<code>对象</code>, 又挂载到了什么地方。设置了新值后又是怎么触发渲染的???</p> <p><img src="/blog/assets/img/lironghao.a6ca7cb6.jpg" alt="小小的眼睛装满了大大的疑惑.jpg"></p> <p>如果想从根源上填上这个坑, 大概是需要阅读源码了解 Hooks 的基础实现的<a href="https://github.com/facebook/react/blob/d259f458133865757c0d18895d537f14908f0a5b/packages/react-reconciler/src/ReactFiberHooks.js#L142" target="_blank" rel="noopener noreferrer">Github 源码链接<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>。</p> <p>下面是<code>Hook</code>的 type 定义</p> <div class="language-typescript extra-class"><pre class="language-typescript"><code><span class="token keyword">export</span> <span class="token keyword">type</span> Hook <span class="token operator">=</span> <span class="token punctuation">{</span>
    <span class="token comment">// 数据</span>
    memoizedState<span class="token punctuation">:</span> <span class="token builtin">any</span><span class="token punctuation">;</span>
    <span class="token comment">// 下面这些暂时不需要了解</span>
    baseState<span class="token punctuation">:</span> <span class="token builtin">any</span><span class="token punctuation">;</span>
    baseQueue<span class="token punctuation">:</span> Update<span class="token operator">&lt;</span><span class="token builtin">any</span><span class="token punctuation">,</span> <span class="token builtin">any</span><span class="token operator">&gt;</span> <span class="token operator">|</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
    queue<span class="token punctuation">:</span> UpdateQueue<span class="token operator">&lt;</span><span class="token builtin">any</span><span class="token punctuation">,</span> <span class="token builtin">any</span><span class="token operator">&gt;</span> <span class="token operator">|</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
    <span class="token comment">// 链表下一个节点的指针</span>
    next<span class="token punctuation">:</span> Hook <span class="token operator">|</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre></div><p>我们需要了解的是<code>Hook</code>是通过<code>链表</code>存储的
<img src="/blog/assets/img/link.d8255c53.png" alt=""></p> <p>本文尝试通过流程图来简述下这里的逻辑。(下面的流程图是不完整的!没有对比依赖更新)</p> <p><img src="/blog/assets/img/fiber.91add334.png" alt="有点问题的Hooks加载流程"></p> <ul><li>函数组件第一次执行时</li></ul> <p>第一个 Hook 会挂载到<code>React Fiber Node</code>上, 之后在函数执行遇到的 Hook 会依次按顺序挂载到 Hook 节点后。</p> <ul><li>函数组件更新渲染时</li></ul> <p>函数执行遇到的 Hooks 会按照顺序读取<code>React Fiber Node</code>上的 Hook 节点。</p> <p>如上图所示, 函数组件重新执行时是依赖 Hooks 队列的顺序的。如果在<code>条件判断</code>中使用 Hook 就会让这个队列错乱。</p> <p>因此也就会有如下官网提示:</p> <blockquote><p>Only call Hooks at the top level. Don’t call Hooks inside loops, conditions, or nested functions.</p></blockquote> <h3 id="_2-使用-react-hooks-处理副作用"><a href="#_2-使用-react-hooks-处理副作用" class="header-anchor">#</a> 2. 使用 React Hooks 处理副作用</h3> <p>副作用(Side Effect), 个人理解, 是在<code>数据-&gt;视图</code>的转化过程中, 出现的一些特别的<code>时机</code>。我们可以利用这些<code>时机</code>去处理一些业务逻辑。</p> <p>以下是使用<code>useEffect</code>的一个简单的计数 Demo.</p> <p><a href="https://codesandbox.io/s/old-butterfly-2c2ti?fontsize=14&amp;hidenavigation=1&amp;theme=dark" target="_blank" rel="noopener noreferrer"><img src="https://codesandbox.io/static/img/play-codesandbox.svg" alt="Edit old-butterfly-2c2ti"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p> <p><img src="/blog/assets/img/demo2.212f56f9.gif" alt=""></p> <p>使用<code>useEffect</code>去实现在渲染完成之后要去处理的一些事情。
大家也可以在官网的 API Reference 中找到 React useEffect 说明。</p> <p>我们可以通过流程图加深理解<code>useEffect</code>这个 Hook。</p> <p><img src="/blog/assets/img/effect.7245f335.png" alt=""></p> <p>以上是<code>useEffect</code>Hook 的大致执行逻辑, 通过此图会发现<code>useEffect</code>多了一步<code>数据比对</code>的过程, 只有当以下条件成立时, SideEffect 才会触发调用。</p> <ol><li>useEffect 第一次执行之时</li> <li>useEffect 的依赖存在变更之时</li></ol> <p>我们修改上面计数的例子就可以更好的理解两个 Hook。</p> <p><a href="https://codesandbox.io/s/priceless-water-w2r4b?fontsize=14&amp;hidenavigation=1&amp;theme=dark" target="_blank" rel="noopener noreferrer"><img src="https://codesandbox.io/static/img/play-codesandbox.svg" alt="Edit priceless-water-w2r4b"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">function</span> <span class="token function">Demo</span><span class="token punctuation">(</span><span class="token parameter">props</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">const</span> <span class="token punctuation">[</span>count<span class="token punctuation">,</span> setCount<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">useState</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">const</span> <span class="token punctuation">[</span>step<span class="token punctuation">,</span> setStep<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">useState</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token function">useEffect</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
        <span class="token keyword">const</span> timer <span class="token operator">=</span> <span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
            <span class="token function">setCount</span><span class="token punctuation">(</span>step <span class="token operator">+</span> count<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token number">1000</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">return</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
            <span class="token function">clearTimeout</span><span class="token punctuation">(</span>timer<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">[</span>count<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token keyword">return</span> <span class="token punctuation">(</span>
        <span class="token operator">&lt;</span>div<span class="token operator">&gt;</span>
            <span class="token operator">&lt;</span>div<span class="token operator">&gt;</span>Count<span class="token punctuation">:</span> <span class="token punctuation">{</span>count<span class="token punctuation">}</span><span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
            <span class="token operator">&lt;</span>div<span class="token operator">&gt;</span>Step<span class="token punctuation">:</span> <span class="token punctuation">{</span>step<span class="token punctuation">}</span><span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
            <span class="token operator">&lt;</span>button
                onClick<span class="token operator">=</span><span class="token punctuation">{</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
                    <span class="token function">setCount</span><span class="token punctuation">(</span>count <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                <span class="token punctuation">}</span><span class="token punctuation">}</span>
            <span class="token operator">&gt;</span>
                Click
            <span class="token operator">&lt;</span><span class="token operator">/</span>button<span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
    <span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><p><img src="/blog/assets/img/demo3.71781903.gif" alt=""></p> <p>在 Gift 图中, 在更新 Step 步长时, 计数第一次仍然是<code>+1</code>, 随后才会<code>+2</code>。</p> <ol><li>在<code>step</code>更新时, <code>useEffect</code>的<code>count</code>没有变化, 所以没有触发更新</li> <li><code>useEffect</code>触发时, 使用的是 Hook 中暂存的数据, 所以步长<code>step</code>仍然是 1.</li></ol> <p>我们在Hook加载流程上补充上对比的过程。</p> <p><img src="/blog/assets/img/fiber2.88dda66b.png" alt=""></p> <p>Hook中存入的是上一次渲染后的快照值, 所以在执行时, 也会使用上一次渲染留下来的值。</p> <p>到这里, 我们概括下函数组件的渲染流程</p> <p><img src="/blog/assets/img/flow.3f31836f.png" alt=""></p> <h3 id="_3-总结"><a href="#_3-总结" class="header-anchor">#</a> 3. 总结</h3> <p>本文只是提到了<code>useState</code>, <code>useEffect</code>这两例典型的 React Hooks。</p> <p>以<code>useState</code>为例, 我们了解了<code>React Hooks</code>是如何解决函数组件内无法保留内部数据的问题。</p> <p>以<code>useEffect</code>为例, 我们呢了解了<code>React Hooks</code>如何处理在<code>数据-&gt;视图</code>之间一些<code>时机</code>的处理</p> <p>以及很浅显的提到了<code>Hook</code>中的数据暂存(快照)的原因</p> <p>React Hooks 还有很多种用法, 本章只是梳理 React Hooks 的一些基本概念。</p> <p>下一章会着重于《如何在业务中梳理重组封装自己的 Hooks》</p> <h3 id="_4-参考reference"><a href="#_4-参考reference" class="header-anchor">#</a> 4. 参考Reference</h3> <p><a href="https://zhuanlan.zhihu.com/p/91935584" target="_blank" rel="noopener noreferrer">React Hook 解析 - 风吹老了好少年的文章 - 知乎<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p> <h2 id="hooks-的合理使用"><a href="#hooks-的合理使用" class="header-anchor">#</a> Hooks 的合理使用</h2> <p>作者最初使用<code>React Hooks</code>的场景就是用<code>Hooks</code>重构现有的 Class 组件。</p> <p>改写 Class 组件也没有很难, 对照官网 API, 直接暴力输出</p> <ol><li>使用<code>useState</code>替代<code>this.state</code></li> <li>使用<code>useCallback</code>替代 Class 的方法</li> <li>使用<code>useEffect</code>替代生命周期函数</li> <li>...</li></ol> <p><img src="data:image/jpeg;base64,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" alt=""></p> <p>首先, 来看一个使用 Class 实现的组件, 支持列表的增删查改(不好意思, 只实现了增);</p> <p><a href="https://codesandbox.io/s/stoic-cerf-cgu0l?fontsize=14&amp;hidenavigation=1&amp;theme=dark" target="_blank" rel="noopener noreferrer"><img src="https://codesandbox.io/static/img/play-codesandbox.svg" alt="Edit stoic-cerf-cgu0l"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a> <img src="/blog/assets/img/class-component.8a15b9d5.png" alt=""></p> <h3 id="重构组件"><a href="#重构组件" class="header-anchor">#</a> 重构组件</h3> <p>按照上面的暴力输出思路和官网提供的<code>Hooks</code>API, 我们将一个 Class 组件改造成了 Function + Hooks 组件试试。</p> <p><a href="https://codesandbox.io/s/stoic-cerf-cgu0l?fontsize=14&amp;hidenavigation=1&amp;theme=dark" target="_blank" rel="noopener noreferrer"><img src="https://codesandbox.io/static/img/play-codesandbox.svg" alt="Edit stoic-cerf-cgu0l"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a> <img src="/blog/assets/img/func.d92d7519.png" alt=""></p> <p>看上去好像没什么问题, 有一种重构代码<code>大功告成</code>的感觉。可内心总有一点点不安, 这不安来自于哪里呢?</p> <p>在身边的同事看到这段代码后, 吐槽地说了一句, <code>使用React Hooks看上去好乱阿, 在一个函数里写了一坨代码, 不像OOP那样逻辑清晰</code>。</p> <p>仔细想想, 好像确实是这个样子的。 重构后的组件代码逻辑都在同一个函数中, 看上去逻辑不清晰、可阅读性很差、维护困难。</p> <p>这么简单的组件改写后都这么乱了, 逻辑更复杂一些的组件, 就是更大一坨的意大利面了==</p> <p><img src="data:image/jpeg;base64,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" alt=""></p> <h3 id="代码优化"><a href="#代码优化" class="header-anchor">#</a> 代码优化</h3> <blockquote><p>放弃使用 React Hooks? 难道它就真的不香吗?!</p></blockquote> <p>考虑到自己的代码能力是渣中本渣, 所以一定是自己的使用姿势有问题了。那就看看能不能继续优化下去吧!</p> <h4 id="_1-封装语义化-useeffect"><a href="#_1-封装语义化-useeffect" class="header-anchor">#</a> 1. 封装语义化 useEffect</h4> <p>在上面代码中, 使用<code>useEffect</code>模拟了<code>componentDidMount</code>这一生命周期。React 官方推荐使用多个<code>useEffect</code>去完成不同的事情, 而不是放在一起。那我们可以对此进行一定的封装处理。</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token comment">// useMount sourcecode</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> useEffect <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'react'</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> <span class="token function-variable function">noop</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token keyword">export</span> <span class="token keyword">function</span> <span class="token function">useMount</span><span class="token punctuation">(</span><span class="token parameter">mount<span class="token punctuation">,</span> unmount <span class="token operator">=</span> noop</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token function">useEffect</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
        <span class="token function">mount</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">return</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
            <span class="token function">unmount</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><div class="language-jsx extra-class"><pre class="language-jsx"><code><span class="token comment">// use case</span>
<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token keyword">function</span> <span class="token function">Demo</span><span class="token punctuation">(</span><span class="token parameter">props</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token function">useMount</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
        <span class="token comment">// do something</span>
        <span class="token comment">// after didMount</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><ol start="2"><li>封装 Hooks</li></ol> <p>在上述组件中, 使用了<code>useState</code>, 并在<code>添加</code>,<code>编辑</code>,<code>删除</code>等操作中都调用了修改 State 的<code>setXXX</code>方法。</p> <p>像这样的<code>数据-操作</code>有着相关联系的, 我们可以封装自己的 Hooks</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">import</span> <span class="token punctuation">{</span> useState<span class="token punctuation">,</span> useCallback <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'react'</span><span class="token punctuation">;</span>

<span class="token keyword">export</span> <span class="token keyword">function</span> <span class="token function">useList</span><span class="token punctuation">(</span><span class="token parameter">initial <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span></span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">const</span> <span class="token punctuation">[</span>list<span class="token punctuation">,</span> setList<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">useState</span><span class="token punctuation">(</span>initial<span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token keyword">const</span> add <span class="token operator">=</span> <span class="token function">useCallback</span><span class="token punctuation">(</span><span class="token parameter">data</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
        <span class="token comment">// setXXX使用函数后, 入参会拿到最新的state数据</span>
        <span class="token function">setList</span><span class="token punctuation">(</span><span class="token parameter">list</span> <span class="token operator">=&gt;</span> <span class="token punctuation">[</span><span class="token operator">...</span>list<span class="token punctuation">,</span> data<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">const</span> edit <span class="token operator">=</span> <span class="token function">useCallback</span><span class="token punctuation">(</span><span class="token parameter">data</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">[</span>list<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">const</span> deleteOne <span class="token operator">=</span> <span class="token function">useCallback</span><span class="token punctuation">(</span><span class="token parameter">data</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">[</span>list<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token keyword">return</span> <span class="token punctuation">[</span>list<span class="token punctuation">,</span> add<span class="token punctuation">,</span> edit<span class="token punctuation">,</span> deleteOne<span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><p>上述<code>数据结构-操作方法</code>只是最简单的一种方案。更多的使用方法和抽象封装要具体情况具体分析来使用了。</p> <p>所以在上述封装之后,</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token keyword">function</span> <span class="token function">Demo</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>

    <span class="token keyword">const</span> <span class="token punctuation">[</span>list<span class="token punctuation">,</span> add<span class="token punctuation">,</span> edit<span class="token punctuation">,</span> deleteOne<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">useList</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">const</span> handleAdd <span class="token operator">=</span> <span class="token function">useCallback</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
        <span class="token function">add</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
            title<span class="token punctuation">:</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">local data </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>list<span class="token punctuation">.</span>length<span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">,</span>
            description<span class="token punctuation">:</span> <span class="token string">'description test'</span>
        <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">const</span> handleEdit <span class="token operator">=</span> <span class="token function">useCallback</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">const</span> handleDelete <span class="token operator">=</span> <span class="token function">useCallback</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    
    <span class="token function">usetMount</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">//...</span>
    <span class="token comment">// 其他不变</span>
<span class="token punctuation">}</span>
</code></pre></div><h3 id="方法论"><a href="#方法论" class="header-anchor">#</a> 方法论</h3> <blockquote><p>方法论主要解决“怎么办”的问题。</p></blockquote> <p>下文只是个人对<code>React Hooks</code>的实践总结, 如果有更好的思路欢迎来拍砖。</p> <p>这里提到的<strong>方法论</strong>, 是在使用函数组件 + React Hooks时, 我们该怎么合理的应用它。</p> <p>首先, 将注意力回到最初提到的<code>函数组件</code>, 它实际上就是<code>数据=&gt;视图</code>, 一组特殊的输入输出的函数。</p> <div class="language-js extra-class"><pre class="language-js"><code>v <span class="token operator">=</span> <span class="token function">f</span><span class="token punctuation">(</span>p<span class="token punctuation">)</span>
</code></pre></div><p>函数组件与React Hooks体现的都是函数式编程的思想, 即:</p> <blockquote><p>函数式编程是一种编程范式，它将电脑运算视为函数运算，并且避免使用程序状态以及易变对象。其中，λ 演算（lambda calculus）为该语言最重要的基础。而且，λ 演算的函数可以接受函数当作输入（引数）和输出（传出值）。
比起指令式编程，函数式编程更加强调程序执行的结果而非执行的过程，倡导利用若干简单的执行单元让计算结果不断渐进，逐层推导复杂的运算，而不是设计一个复杂的执行过程。</p></blockquote> <p>在上文中提到了<code>数据 -&gt; 视图 -&gt; SideEffect</code>这样的流程。</p> <p>每一次渲染都是<code>不同情况引起 -&gt; 数据变更 -&gt; 视图更新 -&gt; 执行SideEffect</code>的过程, 这是一条主线的渲染流程, 那可以进行如下重组:</p> <p><code>每一次渲染</code> === <code>多个(数据, 操作指令, 副作用)</code> =&gt; <code>视图</code> =&gt; <code>SideEffect处理</code></p> <p>我们更需要关心<code>(数据, 操作指令, 副作用)</code>这个元组, 如何将多个元组在这个渲染流程中合并成一条<code>数据 -&gt; 视图 -&gt; SideEffect</code>是React Fiber架构实现的事情。这个心智操作由React框架解决。我们只要正确实现<code>(数据, 操作指令, 副作用)</code>的封装就好了。</p> <p>而这是我们可以使用<code>React Hooks</code>做到的事情, 也是我们如何合理的封装使用<code>React Hooks</code>的方法论。</p> <p><img src="data:image/jpeg;base64,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" alt=""></p> <p>个人觉得<code>倒计时</code>是一个不错的例子</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">import</span> React<span class="token punctuation">,</span> <span class="token punctuation">{</span> useState<span class="token punctuation">,</span> useCallback<span class="token punctuation">,</span> useEffect<span class="token punctuation">,</span> useRef <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;react&quot;</span><span class="token punctuation">;</span>

<span class="token keyword">export</span> <span class="token keyword">function</span> <span class="token function">useCount</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> <span class="token punctuation">[</span>count<span class="token punctuation">,</span> setCount<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">useState</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">const</span> timer <span class="token operator">=</span> <span class="token function">useRef</span><span class="token punctuation">(</span><span class="token keyword">null</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token function">useEffect</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    timer<span class="token punctuation">.</span>current <span class="token operator">=</span> <span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
      <span class="token keyword">if</span> <span class="token punctuation">(</span>count <span class="token operator">&gt;</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token function">setCount</span><span class="token punctuation">(</span>count <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token number">1000</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token keyword">return</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
      <span class="token function">clearTimeout</span><span class="token punctuation">(</span>timer<span class="token punctuation">.</span>current<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">[</span>count<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token keyword">const</span> startCount <span class="token operator">=</span> <span class="token function">useCallback</span><span class="token punctuation">(</span><span class="token parameter">count</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token function">setCount</span><span class="token punctuation">(</span>count<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token keyword">const</span> stopCount <span class="token operator">=</span> <span class="token function">useCallback</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token function">clearTimeout</span><span class="token punctuation">(</span>timer<span class="token punctuation">.</span>current<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token keyword">return</span> <span class="token punctuation">[</span>count<span class="token punctuation">,</span> startCount<span class="token punctuation">,</span> stopCount<span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><p>我们使用<code>useCount</code>这个封装的Hook, 提供了数据-&gt;<code>count</code>, 操作-&gt;<code>startCount</code>, 内部使用<code>useEffect</code>封装了使用<code>setTimeout</code>倒计时的逻辑。</p> <p><a href="https://codesandbox.io/s/vigilant-morning-ziv71?fontsize=14&amp;hidenavigation=1&amp;theme=dark" target="_blank" rel="noopener noreferrer"><img src="https://codesandbox.io/static/img/play-codesandbox.svg" alt="Edit vigilant-morning-ziv71"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a> <img src="/blog/assets/img/count.749bb812.png" alt=""></p> <h3 id="总结"><a href="#总结" class="header-anchor">#</a> 总结</h3> <p>本文着重点在于如何合理地使用React Hooks, 提出了对书写<code>函数组件+ReactHooks</code>的方法论的思考。</p> <p>封装Hooks也是基于可扩展可维护的实用角度出发。 本文也是提醒自己不要为了写Hooks而写Hooks。</p> <h2 id="usecallback-地狱"><a href="#usecallback-地狱" class="header-anchor">#</a> UseCallback 地狱</h2></div> <footer class="page-edit"><!----> <!----></footer> <div class="page-nav"><p class="inner"><!----> <span class="next"><a href="/blog/leetcode/">LeetCode</a>
      →
    </span></p></div> </main></div><div class="global-ui"><!----></div></div>
    <script src="/blog/assets/js/app.f0ed8e46.js" defer></script><script src="/blog/assets/js/2.1c2ffc95.js" defer></script><script src="/blog/assets/js/3.6ef700c2.js" defer></script>
  </body>
</html>
